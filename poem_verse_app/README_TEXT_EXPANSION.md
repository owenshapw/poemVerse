# 诗词内容展示优化

## 功能改进

### 1. 首页诗词列表内容展开功能

**问题描述：**
- 首页诗词列表中的内容被限制为最多3行显示
- 长诗词内容被截断，用户无法看到完整内容
- 用户体验不佳，需要点击进入详情页才能查看完整内容

**解决方案：**
- 创建了 `ExpandableText` 组件
- 自动检测文本是否超过3行
- 如果超过3行，显示"展开"按钮
- 点击"展开"可以查看完整内容
- 点击"收起"可以回到折叠状态

**技术实现：**
```dart
class ExpandableText extends StatefulWidget {
  final String text;
  final TextStyle? style;
  final int maxLines; // 默认3行

  // 使用 TextPainter 检测文本是否超过最大行数
  // 动态显示展开/收起按钮
}
```

### 2. 详情页面内容展示优化

**改进内容：**
- 为诗词内容添加了背景容器
- 优化了字体间距和行高
- 增加了边框和圆角设计
- 提升了阅读体验

**样式改进：**
- 背景色：浅灰色 (`Colors.grey[50]`)
- 边框：圆角8px，浅灰色边框
- 字体：16px，行高1.8，字间距0.5
- 内边距：16px

## 使用说明

### 首页使用
1. 在诗词列表中，如果内容超过3行，会显示"展开"按钮
2. 点击"展开"查看完整内容
3. 点击"收起"回到折叠状态
4. 点击整个卡片可以进入详情页面

### 详情页面
1. 诗词内容完整显示在美观的容器中
2. 支持滚动查看长内容
3. 优化的排版和样式

## 代码位置

- 首页列表：`lib/screens/home_screen.dart`
- 可展开文本组件：`lib/screens/home_screen.dart` (第180-246行)
- 详情页面：`lib/screens/article_detail_screen.dart`

## 技术特点

1. **智能检测**：自动检测文本是否需要展开
2. **性能优化**：使用 `LayoutBuilder` 和 `TextPainter` 精确计算
3. **用户体验**：清晰的展开/收起状态指示
4. **响应式设计**：适配不同屏幕尺寸
5. **代码复用**：`ExpandableText` 组件可在其他地方复用

## 未来改进

1. 支持自定义最大行数
2. 添加展开/收起动画效果
3. 支持富文本内容
4. 添加更多样式选项 